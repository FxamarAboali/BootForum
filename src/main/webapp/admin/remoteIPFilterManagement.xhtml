<!DOCTYPE HTML PUBLIC "-//W3C//DTD HTML 4.01 Transitional//EN" "http://www.w3.org/TR/html4/loose.dtd">
<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
    xmlns:pe="http://primefaces.org/ui/extensions"
    xmlns:c="http://java.sun.com/jsp/jstl/core"
    xmlns:jsf="http://xmlns.jcp.org/jsf"
    template="/WEB-INF/template/layout_admin.xhtml">

	<ui:define name="title">
		#{msg['email.management']}
	</ui:define>
	
	<ui:define name="content">

		<style type="text/css">
			
		</style>
		
		<!-- load data-->
		<f:metadata>
			<f:viewAction action="#{manageRemoteIPFilter.onLoad}"/>
		</f:metadata>
		
		<div class="w3-panel w3-card-4 w3-margin-top w3-padding w3-white" jsf:id="mainContentDiv">
			
			<div class="w3-panel w3-round w3-theme-dark w3-center w3-round">
 				<h3><b>#{msg['ip.filter.management']}</b></h3>
 			</div>
 			
 			<p:growl id="growl" showDetail="true" sticky="false" globalOnly="true" life="3000">
				<p:autoUpdate/>
			</p:growl>
			
			<h:form id="form" styleClass="w3-theme-light">
				
				<div class="w3-row-padding">
					<div class="w3-half w3-container w3-padding-large">
						<p:outputLabel for="filterType" value="#{msg['ip.filter.type']}" styleClass="w3-medium" style="font-weight:bold;" indicateRequired="false"/>
					</div>
					<div class="w3-half w3-container w3-padding-large">	
						<p:selectOneRadio id="filterType" value="#{manageRemoteIPFilter.remoteIPFilterOption.filterType}" unselectable="true">
							<f:selectItems value="#{referenceData.remoteIPFilterTypes}" var="filterType" itemValue="#{filterType}"/>
	        			</p:selectOneRadio>
					</div>
					<div class="w3-container w3-margin-top">
						<p:dataTable id="ipAddressTable" widgetVar="ipAddressTableVar" var="ipAddress" value="#{manageRemoteIPFilter.remoteIPFilterOption.ipAddresses}"
							editable="true">
							
							<f:facet name="header">
                				<center><h3><b>IP Subnet Address List</b></h3></center>
            				</f:facet>
            				
            				<p:column headerText="IP Subnet Address Mask" style="width:75%;">
            					<p:cellEditor>
	            					<f:facet name="output">
	            						<h:outputText value="#{ipAddress}"/>
	            					</f:facet>            					
	            					
	            					<f:facet name="input">
	            						<p:inputText value="#{ipAddress}" style="width:100%" label="IP Address"/>
	            					</f:facet>
	            				</p:cellEditor>
            				</p:column>
            				
            			    <p:column style="width:25%" headerText="Edit">
                				<p:rowEditor/>
            				</p:column>
            				
            				<f:facet name="footer">
                				<center>
									<p:commandButton value="Add IP Subnet Address Mask" process="@this" update=":growl" styleClass="w3-btn w3-theme-dark w3-border-0"
                        				action="#{manageRemoteIPFilter.addIPAddress()}" oncomplete="PF('ipAddressTableVar').addRow();"/>
								</center>
            				</f:facet>
            				
						</p:dataTable>
					</div>
					
					<div class="w3-container w3-margin-top w3-border-top w3-padding">
						<p:commandButton ajax="true" value="#{msg['update']}" icon="pi pi-check" onclick="submitForm();" action="#{manageRemoteIPFilter.update}"
							styleClass="w3-btn w3-theme-dark w3-border-0"/>
							
					</div>		
				</div>

				<p/>
				
			</h:form>		
		
 		</div>
 		
		<script>
			//<![CDATA[//------
			
			
			//]]>
		</script>
				
	</ui:define>
	
</ui:composition>