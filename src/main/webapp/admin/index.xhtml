<ui:composition xmlns="http://www.w3.org/1999/xhtml"
	xmlns:f="http://java.sun.com/jsf/core"
    xmlns:h="http://java.sun.com/jsf/html"
    xmlns:ui="http://java.sun.com/jsf/facelets"
    xmlns:p="http://primefaces.org/ui"
	template="/WEB-INF/template/layout_admin.xhtml">

	<f:metadata>
		<f:viewAction action="#{adminDashboard.onLoad}"/>
	</f:metadata>
	
	<ui:define name="title">
		#{msg['application.title']} - #{msg['administrator.area']}
	</ui:define>
	
	<ui:define name="content">
	
		<div class="w3-panel w3-card-4 w3-margin-top" style="background-color: #f4f4f4;">
			
			<div class="w3-panel w3-theme-dark w3-center w3-round">
 				<h3>#{msg['admin.dashboard']}</h3>
 			</div>
 			
 			<div class="w3-section w3-border-bottom">
 				<h4 style="text-align: center">Last 7 days</h4>
 			</div>

			<div class="w3-row-padding w3-section">
			
				<div class="w3-half">
					
					<div class="w3-card w3-white">
						<header class="w3-container w3-light-gray">
				        	<h4>Most views discussions</h4>
				        </header>
				        <p:repeat var="discussion" value="#{adminDashboard.mostViewsDiscussions}">
				        	<div class="w3-container w3-section w3-border-bottom">
				        		#{discussion.title}: <b>#{discussion.stat.viewCount}</b>
				        	</div>
				        </p:repeat>
					</div>
					
				</div>
				
				<div class="w3-half">

					<div class="w3-card w3-white">
						<header class="w3-container w3-light-gray">
				        	<h4>Most comments discussions</h4>
				        </header>
				        <p:repeat var="discussion" value="#{adminDashboard.mostCommentsDiscussions}">
				        	<div class="w3-container w3-section w3-border-bottom">
				        		#{discussion.title}: <b>#{discussion.stat.commentCount}</b>
				        	</div>
				        </p:repeat>
					</div>
				
				</div>
				
			</div>
			
			<p/>
			
			<div class="w3-row-padding w3-section">
				<div class="w3-half">
					
					<div class="w3-card w3-white">
						<header class="w3-container w3-light-gray">
				        	<h4>Users with most comments</h4>
				        </header>
				        <p:repeat var="username" value="#{adminDashboard.mostCommentsUsers.keySet().toArray()}">
				        	<div class="w3-container w3-section w3-border-bottom">
				        		<b>#{username}</b>: #{adminDashboard.mostCommentsUsers[username]}
				        	</div>
				        </p:repeat>
					</div>
					
				</div>
				
				<div class="w3-half">

					<div class="w3-card w3-white">
						<header class="w3-container w3-light-gray">
				        	<h4>Users with most reputations</h4>
				        </header>
				        <p:repeat var="username" value="#{adminDashboard.mostReputationUsers.keySet().toArray()}">
				        	<div class="w3-container w3-section w3-border-bottom">
				        		<b>#{username}</b>: #{adminDashboard.mostReputationUsers[username]}
				        	</div>
				        </p:repeat>
					</div>
				
				</div>				
			
			</div>		
			
		</div>
		
	</ui:define>
	
</ui:composition>